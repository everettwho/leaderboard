{"ast":null,"code":"import _regeneratorRuntime from\"/Users/everetthu/Personal/leaderboard/source-files/node_modules/@babel/runtime/regenerator\";import _toArray from\"/Users/everetthu/Personal/leaderboard/source-files/node_modules/@babel/runtime/helpers/esm/toArray\";import _asyncToGenerator from\"/Users/everetthu/Personal/leaderboard/source-files/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/everetthu/Personal/leaderboard/source-files/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/everetthu/Personal/leaderboard/source-files/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/everetthu/Personal/leaderboard/source-files/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/everetthu/Personal/leaderboard/source-files/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/everetthu/Personal/leaderboard/source-files/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import BigNumber from'bignumber.js';import styles from'./main.module.scss';import{ReactComponent as RefreshIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!./refresh.svg\";var players=[{name:'E-Dawg',wallet:'0x696fcAb51956D5a408A9416b703a8E012a90Db53'},{name:'Moon-liano',wallet:'0x0Db86254309601F625234d0819980ee8aECe0C46'},{name:'Philly-G',wallet:'0x930f491CaEBCBBBFF2A0deB61039E87C2b0B7fE7'},{name:'Bucket Lender',wallet:'0x798047D1143642069a4A70b3B845Bbaf87581bdB'},{name:'My Dude!!!',wallet:'0xc494711eDdFDF35BA2522Ad0D5540EA4e59Cc2B0'},{name:'$CNSL',wallet:'0x4131d2Be8D6DA5f446c3a7Dd7bb094b27842D994'},{name:'Watch Me Whip, Watch Me Nene',wallet:'0x77A035b677D5A0900E4848Ae885103cD49af9633'},{name:'Sidding On The Moon',wallet:'0x6D04151ee68759254d69dAEacD0DDB93bFd0b998'},{name:'Barry Me In Bitcoin',wallet:'0x5D9AA2D7C45d8C413BD5DE26756B375C8B4ecB22'},{name:'Ken Lambo',wallet:'0x801B5790F335a1B6EDE241E41406460C89fC4246'},{name:'Wein Moon?',wallet:'0x7a94831B66A7AE1948B1a94A9555A7efa99cb426'},{name:'A-A-Ron',wallet:'0x1DE55cE7B9F84A5Ad147107Fe506B6f2F189f2C2'}];var ACCOUNTS_URI='https://api.dydx.exchange/v1/accounts';var MARKETS_URI='https://api.dydx.exchange/v1/markets';var ZERO=new BigNumber(0);var Leaderboard=/*#__PURE__*/function(_Component){_inherits(Leaderboard,_Component);function Leaderboard(props){var _this;_classCallCheck(this,Leaderboard);_this=_possibleConstructorReturn(this,_getPrototypeOf(Leaderboard).call(this,props));_this.fetchData=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var fetchPromises,responses,responsePromises,_ref3,_ref4,markets,data,parsedData,sortedData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:fetchPromises=[fetch(MARKETS_URI)];players.forEach(function(_ref2){var name=_ref2.name,wallet=_ref2.wallet;fetchPromises.push(fetch(\"\".concat(ACCOUNTS_URI,\"/\").concat(wallet)));});_context.next=4;return Promise.all(fetchPromises);case 4:responses=_context.sent;responsePromises=[];responses.forEach(function(response){responsePromises.push(response.json());});_context.next=9;return Promise.all(responsePromises);case 9:_ref3=_context.sent;_ref4=_toArray(_ref3);markets=_ref4[0].markets;data=_ref4.slice(1);parsedData=data.map(function(_ref5){var owner=_ref5.owner,accounts=_ref5.accounts;var _players$find=players.find(function(_ref6){var wallet=_ref6.wallet;return wallet.toLowerCase()===owner.toLowerCase();}),name=_players$find.name;var totalBalances={};accounts.forEach(function(_ref7){var balances=_ref7.balances;for(var key in balances){var _balances$key=balances[key],marketId=_balances$key.marketId,wei=_balances$key.wei;if(totalBalances[marketId]){totalBalances[marketId]=totalBalances[marketId].plus(wei);}else{totalBalances[marketId]=new BigNumber(wei);}}});var totalValue=ZERO;markets.forEach(function(_ref8){var id=_ref8.id,oraclePrice=_ref8.oraclePrice,currency=_ref8.currency;var price=new BigNumber(oraclePrice).div(\"1e\".concat(36-currency.decimals));var balance=(totalBalances[id]||ZERO).div(\"1e\".concat(currency.decimals));totalValue=totalValue.plus(price.times(balance));});return{name:name,wallet:owner,totalValue:totalValue};});sortedData=parsedData.sort(function(a,b){return a.totalValue.minus(b.totalValue).times(-1);});_this.setState({data:sortedData});case 16:case\"end\":return _context.stop();}}},_callee);}));_this.state={data:[]};return _this;}_createClass(Leaderboard,[{key:\"componentDidMount\",value:function componentDidMount(){this.fetchData();}},{key:\"renderList\",value:function renderList(){var data=this.state.data;return data.map(function(_ref9,idx){var name=_ref9.name,wallet=_ref9.wallet,totalValue=_ref9.totalValue;return React.createElement(\"div\",{key:name,className:styles.row,onClick:function onClick(){return window.open(\"https://trade.dydx.exchange?wallet=\".concat(wallet));}},React.createElement(\"div\",{className:styles.nameBadge},React.createElement(\"span\",{className:styles[\"badge\".concat(idx)]},idx+1),name),React.createElement(\"div\",null,\"$\",totalValue.toFixed(2)));});}},{key:\"render\",value:function render(){var _this2=this;var data=this.state.data;return React.createElement(\"div\",{className:styles.leaderboard},React.createElement(\"div\",{className:styles.contentWrapper},React.createElement(\"div\",{className:styles.header},\"dYdX Leaderboard (Feb 2020)\",React.createElement(RefreshIcon,{onClick:function onClick(){_this2.setState({data:[]});_this2.fetchData();}})),data.length>0?this.renderList():React.createElement(\"div\",{className:styles.spinner},React.createElement(\"img\",{alt:\"\",src:\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABGdBTUEAALGPC/xhBQAAA4lJREFUSA21lstvTVEUh++t9zPUox7R1CMhiNA0GhM66qSpAWMSiYjHyJ/AkAkSEgNGBiYmBsRjxNBEGkEkRBqNlFbRlmpxfd9x1s1pb2/T1rGSX9be6+y1fmvtvc4+p1iYhJRKpRqWbQF7wGawDNSBIugDveA1eAQ6isXib/SEomNVgXA2D9vAflALXD8r1TPQJhQ67P3YboCbJPADPa5UJYa0GY/DYAUIAtebjHpmaldnEzIB1/eAc5A/QFdIBTGE2g6CA8CxFamzBAbOEsfcdXPS9drENXCBBErosriwLCnpcQxWG4ShR7A9SdGJ/gSU5WA9aAH7QPZIgvwu9tNZ8rHEVtkOtAcYFnS8jeOgk2pC4gt5dgQcAouAMYL8Kv7nmSfig0RwamRwDESF6i/gEg5v0JMWYm1n8RVQB6In5DpBrDvoJKMCC22IMyC2yUVWd5aFvi5TFmJKegusBcazkPdgLzGH3AbFs1kMfgLfwWFwcbqk+Bbw7UadBMaU1GasB0dBoYbMJG8BEgq77yGOb9H/JMToIMB1IHHIKTklbQDzwC8g8WdwD+Qllwk0ADxOq14FmiXeBqJS9TMy/Y7ORYj1lUAWIldU3uZkNbBaz1W4PXnLfQJGxXZ5k6X7vsWtYvfZFHnLSwJapCLHGok9X28lDYpbk7f4GllxyDqJrTYQD/6H7swEHZTYLq7NGL32qn7OMuumMrR3WjMOIxK7tUsyRi/93sw8j6GXSLbi5PLowugDO1u9AeQtdrJnHJ1dtNNepSzxLm/kZvGbmosQy6aVWC7hvFyx2+05eLZufxPIS+YTKFut49813Cx2tB/4ECvfSaYrwzBdTQxJFoCo1GqH5dSgPAV2d9xgnnUrjjpNS/B15/w0ek0Kj89EkjcmISYDiR4DiUNc2E4Au3xKgs9cHLyKJZQjCuxPd7h8W/GMEy+VdqN2JJO/He4xePbPwQucHFcV/CUy0aXAYjy2aNo+/Mu3YlyTPE+InbeABhC3mWSOh8A70AX8d3auuH02kHe+PxNBJrF+Xsf+zfREtYxHV6yBrCXfBbaCCBKVRyDtBsxqE3Qelfrc9R+B1Touy6iKy1YGJFCPagSedZY4G3g8YvvE9VbZDaG7UyFViV2ZntkmhsItNaBdqY4Exmp/Ij4At9bExpUJicMj3f5a5v62+Iq5C3aqCXwDJmPj+JM/MHZbsVXIH5y6IqvXnX2mAAAAAElFTkSuQmCC\"})),React.createElement(\"div\",{className:styles.creditLink},\"Icons made by\",' ',React.createElement(\"a\",{href:\"https://www.flaticon.com/authors/freepik\",title:\"Freepik\"},\"Freepik\"),' ',\"from\",' ',React.createElement(\"a\",{href:\"https://www.flaticon.com/\",title:\"Flaticon\"},\"www.flaticon.com\"))));}}]);return Leaderboard;}(Component);export default Leaderboard;","map":{"version":3,"sources":["/Users/everetthu/Personal/leaderboard/source-files/src/main.jsx"],"names":["React","Component","BigNumber","styles","players","name","wallet","ACCOUNTS_URI","MARKETS_URI","ZERO","Leaderboard","props","fetchData","fetchPromises","fetch","forEach","push","Promise","all","responses","responsePromises","response","json","markets","data","parsedData","map","owner","accounts","find","toLowerCase","totalBalances","balances","key","marketId","wei","plus","totalValue","id","oraclePrice","currency","price","div","decimals","balance","times","sortedData","sort","a","b","minus","setState","state","idx","row","window","open","nameBadge","toFixed","leaderboard","contentWrapper","header","length","renderList","spinner","creditLink"],"mappings":"uiCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,SAAP,KAAsB,cAAtB,CACA,MAAOC,CAAAA,MAAP,KAAmB,oBAAnB,C,6FAIA,GAAMC,CAAAA,OAAO,CAAG,CACd,CACEC,IAAI,CAAE,QADR,CAEEC,MAAM,CAAE,4CAFV,CADc,CAKd,CACED,IAAI,CAAE,YADR,CAEEC,MAAM,CAAE,4CAFV,CALc,CASd,CACED,IAAI,CAAE,UADR,CAEEC,MAAM,CAAE,4CAFV,CATc,CAad,CACED,IAAI,CAAE,eADR,CAEEC,MAAM,CAAE,4CAFV,CAbc,CAiBd,CACED,IAAI,CAAE,YADR,CAEEC,MAAM,CAAE,4CAFV,CAjBc,CAqBd,CACED,IAAI,CAAE,OADR,CAEEC,MAAM,CAAE,4CAFV,CArBc,CAyBd,CACED,IAAI,CAAE,8BADR,CAEEC,MAAM,CAAE,4CAFV,CAzBc,CA6Bd,CACED,IAAI,CAAE,qBADR,CAEEC,MAAM,CAAE,4CAFV,CA7Bc,CAiCd,CACED,IAAI,CAAE,qBADR,CAEEC,MAAM,CAAE,4CAFV,CAjCc,CAqCd,CACED,IAAI,CAAE,WADR,CAEEC,MAAM,CAAE,4CAFV,CArCc,CAyCd,CACED,IAAI,CAAE,YADR,CAEEC,MAAM,CAAE,4CAFV,CAzCc,CA6Cd,CACED,IAAI,CAAE,SADR,CAEEC,MAAM,CAAE,4CAFV,CA7Cc,CAAhB,CAmDA,GAAMC,CAAAA,YAAY,CAAG,uCAArB,CACA,GAAMC,CAAAA,WAAW,CAAG,sCAApB,CAEA,GAAMC,CAAAA,IAAI,CAAG,GAAIP,CAAAA,SAAJ,CAAc,CAAd,CAAb,C,GAEMQ,CAAAA,W,qEACJ,qBAAYC,KAAZ,CAAmB,6CACjB,6EAAMA,KAAN,GADiB,MASnBC,SATmB,sEASP,+NACJC,aADI,CACY,CAACC,KAAK,CAACN,WAAD,CAAN,CADZ,CAGVJ,OAAO,CAACW,OAAR,CAAgB,eAAsB,IAAnBV,CAAAA,IAAmB,OAAnBA,IAAmB,CAAbC,MAAa,OAAbA,MAAa,CACpCO,aAAa,CAACG,IAAd,CAAmBF,KAAK,WAAIP,YAAJ,aAAoBD,MAApB,EAAxB,EACD,CAFD,EAHU,sBAOcW,CAAAA,OAAO,CAACC,GAAR,CAAYL,aAAZ,CAPd,QAOJM,SAPI,eASJC,gBATI,CASe,EATf,CAUVD,SAAS,CAACJ,OAAV,CAAkB,SAAAM,QAAQ,CAAI,CAC5BD,gBAAgB,CAACJ,IAAjB,CAAsBK,QAAQ,CAACC,IAAT,EAAtB,EACD,CAFD,EAVU,sBAc2BL,CAAAA,OAAO,CAACC,GAAR,CAAYE,gBAAZ,CAd3B,kDAcDG,OAdC,UAcDA,OAdC,CAcaC,IAdb,gBAgBJC,UAhBI,CAgBSD,IAAI,CAACE,GAAL,CAAS,eAAyB,IAAtBC,CAAAA,KAAsB,OAAtBA,KAAsB,CAAfC,QAAe,OAAfA,QAAe,mBAClCxB,OAAO,CAACyB,IAAR,CAAa,mBAAGvB,CAAAA,MAAH,OAAGA,MAAH,OAAgBA,CAAAA,MAAM,CAACwB,WAAP,KAAyBH,KAAK,CAACG,WAAN,EAAzC,EAAb,CADkC,CAC3CzB,IAD2C,eAC3CA,IAD2C,CAGnD,GAAM0B,CAAAA,aAAa,CAAG,EAAtB,CACAH,QAAQ,CAACb,OAAT,CAAiB,eAAkB,IAAfiB,CAAAA,QAAe,OAAfA,QAAe,CACjC,IAAK,GAAMC,CAAAA,GAAX,GAAkBD,CAAAA,QAAlB,CAA4B,mBACAA,QAAQ,CAACC,GAAD,CADR,CAClBC,QADkB,eAClBA,QADkB,CACRC,GADQ,eACRA,GADQ,CAG1B,GAAIJ,aAAa,CAACG,QAAD,CAAjB,CAA6B,CAC3BH,aAAa,CAACG,QAAD,CAAb,CAA0BH,aAAa,CAACG,QAAD,CAAb,CAAwBE,IAAxB,CAA6BD,GAA7B,CAA1B,CACD,CAFD,IAEO,CACLJ,aAAa,CAACG,QAAD,CAAb,CAA0B,GAAIhC,CAAAA,SAAJ,CAAciC,GAAd,CAA1B,CACD,CACF,CACF,CAVD,EAYA,GAAIE,CAAAA,UAAU,CAAG5B,IAAjB,CACAc,OAAO,CAACR,OAAR,CAAgB,eAAmC,IAAhCuB,CAAAA,EAAgC,OAAhCA,EAAgC,CAA5BC,WAA4B,OAA5BA,WAA4B,CAAfC,QAAe,OAAfA,QAAe,CACjD,GAAMC,CAAAA,KAAK,CAAG,GAAIvC,CAAAA,SAAJ,CAAcqC,WAAd,EAA2BG,GAA3B,aAAoC,GAAKF,QAAQ,CAACG,QAAlD,EAAd,CACA,GAAMC,CAAAA,OAAO,CAAG,CAACb,aAAa,CAACO,EAAD,CAAb,EAAqB7B,IAAtB,EAA4BiC,GAA5B,aAAqCF,QAAQ,CAACG,QAA9C,EAAhB,CACAN,UAAU,CAAGA,UAAU,CAACD,IAAX,CAAgBK,KAAK,CAACI,KAAN,CAAYD,OAAZ,CAAhB,CAAb,CACD,CAJD,EAMA,MAAO,CAAEvC,IAAI,CAAJA,IAAF,CAAQC,MAAM,CAAEqB,KAAhB,CAAuBU,UAAU,CAAVA,UAAvB,CAAP,CACD,CAxBkB,CAhBT,CA0CJS,UA1CI,CA0CSrB,UAAU,CAACsB,IAAX,CAAgB,SAACC,CAAD,CAAIC,CAAJ,QAAUD,CAAAA,CAAC,CAACX,UAAF,CAAaa,KAAb,CAAmBD,CAAC,CAACZ,UAArB,EAAiCQ,KAAjC,CAAuC,CAAC,CAAxC,CAAV,EAAhB,CA1CT,CA2CV,MAAKM,QAAL,CAAc,CAAE3B,IAAI,CAAEsB,UAAR,CAAd,EA3CU,uDATO,GAEjB,MAAKM,KAAL,CAAa,CAAE5B,IAAI,CAAE,EAAR,CAAb,CAFiB,aAGlB,C,qFAEmB,CAClB,KAAKZ,SAAL,GACD,C,+CAgDY,IACHY,CAAAA,IADG,CACM,KAAK4B,KADX,CACH5B,IADG,CAEX,MAAOA,CAAAA,IAAI,CAACE,GAAL,CAAS,eAA+B2B,GAA/B,KAAGhD,CAAAA,IAAH,OAAGA,IAAH,CAASC,MAAT,OAASA,MAAT,CAAiB+B,UAAjB,OAAiBA,UAAjB,OACd,4BACE,GAAG,CAAEhC,IADP,CAEE,SAAS,CAAEF,MAAM,CAACmD,GAFpB,CAGE,OAAO,CAAE,yBAAMC,CAAAA,MAAM,CAACC,IAAP,8CAAkDlD,MAAlD,EAAN,EAHX,EAKE,2BAAK,SAAS,CAAEH,MAAM,CAACsD,SAAvB,EACE,4BAAM,SAAS,CAAEtD,MAAM,gBAASkD,GAAT,EAAvB,EAAyCA,GAAG,CAAG,CAA/C,CADF,CAEGhD,IAFH,CALF,CASE,mCAAOgC,UAAU,CAACqB,OAAX,CAAmB,CAAnB,CAAP,CATF,CADc,EAAT,CAAP,CAaD,C,uCAEQ,oBACClC,CAAAA,IADD,CACU,KAAK4B,KADf,CACC5B,IADD,CAGP,MACE,4BAAK,SAAS,CAAErB,MAAM,CAACwD,WAAvB,EACE,2BAAK,SAAS,CAAExD,MAAM,CAACyD,cAAvB,EACE,2BAAK,SAAS,CAAEzD,MAAM,CAAC0D,MAAvB,gCAEE,oBAAC,WAAD,EACE,OAAO,CAAE,kBAAM,CACb,MAAI,CAACV,QAAL,CAAc,CAAE3B,IAAI,CAAE,EAAR,CAAd,EACA,MAAI,CAACZ,SAAL,GACD,CAJH,EAFF,CADF,CAUGY,IAAI,CAACsC,MAAL,CAAc,CAAd,CACC,KAAKC,UAAL,EADD,CAGC,2BAAK,SAAS,CAAE5D,MAAM,CAAC6D,OAAvB,EACE,2BACE,GAAG,CAAC,EADN,CAEE,GAAG,CAAC,gzCAFN,EADF,CAbJ,CAoBE,2BAAK,SAAS,CAAE7D,MAAM,CAAC8D,UAAvB,kBACgB,GADhB,CAEE,yBAAG,IAAI,CAAC,0CAAR,CAAmD,KAAK,CAAC,SAAzD,YAFF,CAIO,GAJP,QAKO,GALP,CAME,yBAAG,IAAI,CAAC,2BAAR,CAAoC,KAAK,CAAC,UAA1C,qBANF,CApBF,CADF,CADF,CAmCD,C,yBA/GuBhE,S,EAkH1B,cAAeS,CAAAA,WAAf","sourcesContent":["import React, { Component } from 'react';\nimport BigNumber from 'bignumber.js';\nimport styles from './main.module.scss';\n\nimport { ReactComponent as RefreshIcon } from './refresh.svg';\n\nconst players = [\n  {\n    name: 'E-Dawg',\n    wallet: '0x696fcAb51956D5a408A9416b703a8E012a90Db53',\n  },\n  {\n    name: 'Moon-liano',\n    wallet: '0x0Db86254309601F625234d0819980ee8aECe0C46',\n  },\n  {\n    name: 'Philly-G',\n    wallet: '0x930f491CaEBCBBBFF2A0deB61039E87C2b0B7fE7',\n  },\n  {\n    name: 'Bucket Lender',\n    wallet: '0x798047D1143642069a4A70b3B845Bbaf87581bdB',\n  },\n  {\n    name: 'My Dude!!!',\n    wallet: '0xc494711eDdFDF35BA2522Ad0D5540EA4e59Cc2B0',\n  },\n  {\n    name: '$CNSL',\n    wallet: '0x4131d2Be8D6DA5f446c3a7Dd7bb094b27842D994',\n  },\n  {\n    name: 'Watch Me Whip, Watch Me Nene',\n    wallet: '0x77A035b677D5A0900E4848Ae885103cD49af9633',\n  },\n  {\n    name: 'Sidding On The Moon',\n    wallet: '0x6D04151ee68759254d69dAEacD0DDB93bFd0b998',\n  },\n  {\n    name: 'Barry Me In Bitcoin',\n    wallet: '0x5D9AA2D7C45d8C413BD5DE26756B375C8B4ecB22',\n  },\n  {\n    name: 'Ken Lambo',\n    wallet: '0x801B5790F335a1B6EDE241E41406460C89fC4246',\n  },\n  {\n    name: 'Wein Moon?',\n    wallet: '0x7a94831B66A7AE1948B1a94A9555A7efa99cb426',\n  },\n  {\n    name: 'A-A-Ron',\n    wallet: '0x1DE55cE7B9F84A5Ad147107Fe506B6f2F189f2C2',\n  },\n];\n\nconst ACCOUNTS_URI = 'https://api.dydx.exchange/v1/accounts';\nconst MARKETS_URI = 'https://api.dydx.exchange/v1/markets';\n\nconst ZERO = new BigNumber(0);\n\nclass Leaderboard extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { data: [] };\n  }\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  fetchData = async () => {\n    const fetchPromises = [fetch(MARKETS_URI)];\n\n    players.forEach(({ name, wallet }) => {\n      fetchPromises.push(fetch(`${ACCOUNTS_URI}/${wallet}`));\n    });\n\n    const responses = await Promise.all(fetchPromises);\n\n    const responsePromises = [];\n    responses.forEach(response => {\n      responsePromises.push(response.json());\n    });\n\n    const [{ markets }, ...data] = await Promise.all(responsePromises);\n\n    const parsedData = data.map(({ owner, accounts }) => {\n      const { name } = players.find(({ wallet }) => wallet.toLowerCase() === owner.toLowerCase());\n\n      const totalBalances = {};\n      accounts.forEach(({ balances }) => {\n        for (const key in balances) {\n          const { marketId, wei } = balances[key];\n\n          if (totalBalances[marketId]) {\n            totalBalances[marketId] = totalBalances[marketId].plus(wei);\n          } else {\n            totalBalances[marketId] = new BigNumber(wei);\n          }\n        }\n      });\n\n      let totalValue = ZERO;\n      markets.forEach(({ id, oraclePrice, currency }) => {\n        const price = new BigNumber(oraclePrice).div(`1e${36 - currency.decimals}`);\n        const balance = (totalBalances[id] || ZERO).div(`1e${currency.decimals}`);\n        totalValue = totalValue.plus(price.times(balance));\n      });\n\n      return { name, wallet: owner, totalValue };\n    });\n\n    const sortedData = parsedData.sort((a, b) => a.totalValue.minus(b.totalValue).times(-1));\n    this.setState({ data: sortedData });\n  };\n\n  renderList() {\n    const { data } = this.state;\n    return data.map(({ name, wallet, totalValue }, idx) => (\n      <div\n        key={name}\n        className={styles.row}\n        onClick={() => window.open(`https://trade.dydx.exchange?wallet=${wallet}`)}\n      >\n        <div className={styles.nameBadge}>\n          <span className={styles[`badge${idx}`]}>{idx + 1}</span>\n          {name}\n        </div>\n        <div>${totalValue.toFixed(2)}</div>\n      </div>\n    ));\n  }\n\n  render() {\n    const { data } = this.state;\n\n    return (\n      <div className={styles.leaderboard}>\n        <div className={styles.contentWrapper}>\n          <div className={styles.header}>\n            dYdX Leaderboard (Feb 2020)\n            <RefreshIcon\n              onClick={() => {\n                this.setState({ data: [] });\n                this.fetchData();\n              }}\n            />\n          </div>\n          {data.length > 0 ? (\n            this.renderList()\n          ) : (\n            <div className={styles.spinner}>\n              <img\n                alt=\"\"\n                src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABGdBTUEAALGPC/xhBQAAA4lJREFUSA21lstvTVEUh++t9zPUox7R1CMhiNA0GhM66qSpAWMSiYjHyJ/AkAkSEgNGBiYmBsRjxNBEGkEkRBqNlFbRlmpxfd9x1s1pb2/T1rGSX9be6+y1fmvtvc4+p1iYhJRKpRqWbQF7wGawDNSBIugDveA1eAQ6isXib/SEomNVgXA2D9vAflALXD8r1TPQJhQ67P3YboCbJPADPa5UJYa0GY/DYAUIAtebjHpmaldnEzIB1/eAc5A/QFdIBTGE2g6CA8CxFamzBAbOEsfcdXPS9drENXCBBErosriwLCnpcQxWG4ShR7A9SdGJ/gSU5WA9aAH7QPZIgvwu9tNZ8rHEVtkOtAcYFnS8jeOgk2pC4gt5dgQcAouAMYL8Kv7nmSfig0RwamRwDESF6i/gEg5v0JMWYm1n8RVQB6In5DpBrDvoJKMCC22IMyC2yUVWd5aFvi5TFmJKegusBcazkPdgLzGH3AbFs1kMfgLfwWFwcbqk+Bbw7UadBMaU1GasB0dBoYbMJG8BEgq77yGOb9H/JMToIMB1IHHIKTklbQDzwC8g8WdwD+Qllwk0ADxOq14FmiXeBqJS9TMy/Y7ORYj1lUAWIldU3uZkNbBaz1W4PXnLfQJGxXZ5k6X7vsWtYvfZFHnLSwJapCLHGok9X28lDYpbk7f4GllxyDqJrTYQD/6H7swEHZTYLq7NGL32qn7OMuumMrR3WjMOIxK7tUsyRi/93sw8j6GXSLbi5PLowugDO1u9AeQtdrJnHJ1dtNNepSzxLm/kZvGbmosQy6aVWC7hvFyx2+05eLZufxPIS+YTKFut49813Cx2tB/4ECvfSaYrwzBdTQxJFoCo1GqH5dSgPAV2d9xgnnUrjjpNS/B15/w0ek0Kj89EkjcmISYDiR4DiUNc2E4Au3xKgs9cHLyKJZQjCuxPd7h8W/GMEy+VdqN2JJO/He4xePbPwQucHFcV/CUy0aXAYjy2aNo+/Mu3YlyTPE+InbeABhC3mWSOh8A70AX8d3auuH02kHe+PxNBJrF+Xsf+zfREtYxHV6yBrCXfBbaCCBKVRyDtBsxqE3Qelfrc9R+B1Touy6iKy1YGJFCPagSedZY4G3g8YvvE9VbZDaG7UyFViV2ZntkmhsItNaBdqY4Exmp/Ij4At9bExpUJicMj3f5a5v62+Iq5C3aqCXwDJmPj+JM/MHZbsVXIH5y6IqvXnX2mAAAAAElFTkSuQmCC\"\n              />\n            </div>\n          )}\n          <div className={styles.creditLink}>\n            Icons made by{' '}\n            <a href=\"https://www.flaticon.com/authors/freepik\" title=\"Freepik\">\n              Freepik\n            </a>{' '}\n            from{' '}\n            <a href=\"https://www.flaticon.com/\" title=\"Flaticon\">\n              www.flaticon.com\n            </a>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Leaderboard;\n"]},"metadata":{},"sourceType":"module"}